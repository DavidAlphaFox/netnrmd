<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
    <link href="favicon.svg" rel="Shortcut Icon" type="image/svg" />

    <title>netnrmd</title>

    <meta name="keywords" content="netnr,NET牛人,markdown,netnrmd" />
    <meta name="description" content="netnr,NET牛人,markdown,netnrmd 组合编辑器，markdown语法解析基于remarkable，编辑与解析分离,调用任意markdown解析器都能完美的运行" />

    <link href="https://lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://lib.baomitu.com/twitter-bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://lib.baomitu.com/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://lib.baomitu.com/remarkable/1.7.1/remarkable.min.js"></script>
    <link href="src/netnrmd.css" rel="stylesheet" />
    <script src="src/netnrmd.min.js"></script>
    <link href="https://lib.baomitu.com/highlight.js/9.12.0/styles/github.min.css" rel="stylesheet">
    <script src="https://lib.baomitu.com/highlight.js/9.12.0/highlight.min.js" defer async="async"></script>

    <style>
        .jumbotron {
            margin-top: 10px;
            padding: 10px 20px 15px;
        }

            .jumbotron small a {
                margin-left: .5em;
            }
        /*footer*/
        .footer {
            width: 100%;
            display: block;
            margin-top: 70px;
            padding: 30px 0 0;
            text-align: center;
            border-top: 1px solid #ddd;
        }

            .footer .logo {
                user-select: none;
                animation: myrotate 60s infinite;
            }

        @keyframes myrotate {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(360deg);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="jumbotron">
            <h1>
                netnrmd
                <small style="font-size:.4em;">
                    <a href="https://github.com/netnr/netnrmd">GitHub</a>&nbsp;
                    <a href="https://gitee.com/netnr/netnrmd">Gitee</a>
                </small>
            </h1>
            <p>netnrmd 组合编辑器</p>
            <p>markdown语法解析基于remarkable，编辑与解析分离</p>
            <p>调用任意markdown解析器都能完美的运行</p>
        </div>
        <div>
            <p>
                自定义工具栏，添加Emoji表情 <a href="https://chat.netnr.com" target="_blank">Emoji Demo</a>
            </p>
        </div>
        <div style="margin-bottom:30px">
            <textarea id="txt" placeholder="netnrmd 组合编辑器 &#10;&#10;markdown语法解析基于remarkable，编辑与解析分离 &#10;&#10;调用任意markdown解析器都能完美的运行"></textarea>
        </div>
        <div>
            <a href="#" id="aread">README</a>
            <div class="hidden">
                <script>
                    $('#aread').click(function () {
                        var rd = $(this).next();
                        rd.hasClass('hidden') ? rd.removeClass('hidden') : rd.addClass('hidden');
                        return false;
                    })
                </script>
                <h2>Install 安装</h2>
<pre><code class="language-js"><span class="hljs-comment">//font-awesome （可以修改样式，用图片代替）</span>
&lt;link href=<span class="hljs-string">"https://lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"</span> rel=<span class="hljs-string">"stylesheet"</span>&gt;

<span class="hljs-comment">//jquery</span>
&lt;script src=<span class="hljs-string">"https://lib.baomitu.com/jquery/1.12.4/jquery.min.js"</span>&gt;<span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>

<span class="hljs-comment">//remarkable 默认解析器（自定义render方法，可不引入）</span>
&lt;script src=<span class="hljs-string">"https://lib.baomitu.com/remarkable/1.7.1/remarkable.js"</span>&gt;<span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>

<span class="hljs-comment">//netnrmd 样式</span>
&lt;link href=<span class="hljs-string">"netnrmd.css"</span> rel=<span class="hljs-string">"stylesheet"</span> /&gt;
<span class="hljs-comment">//netnrmd</span>
&lt;script src=<span class="hljs-string">"netnrmd.min.js"</span>&gt;<span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>

<span class="hljs-comment">//highlight 代码高亮（可选）</span>
&lt;link href=<span class="hljs-string">"https://lib.baomitu.com/highlight.js/9.12.0/styles/github.min.css"</span> rel=<span class="hljs-string">"stylesheet"</span>&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://lib.baomitu.com/highlight.js/9.12.0/highlight.min.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</code></pre>
                <h2>Usage 使用</h2>
<pre><code class="language-js"><span class="hljs-keyword">var</span> nmd = <span class="hljs-keyword">new</span> netnrmd(<span class="hljs-string">'#txt'</span>);
<span class="hljs-built_in">console</span>.log(nmd);
<span class="hljs-built_in">console</span>.log($(<span class="hljs-string">'#txt'</span>).data(<span class="hljs-string">'netnrmd'</span>));

<span class="hljs-comment">//nmd.obj   参数</span>
<span class="hljs-comment">//nmd.md    默认remarkable解析器对象</span>
</code></pre>
                <h2>Documentation 文档</h2>
                <blockquote>
                    <p><a href="https://jonschlinkert.github.io/remarkable/demo/">remarkable demo</a></p>
                </blockquote>
                <h3>Options 选项</h3>
<pre><code class="language-js"><span class="hljs-keyword">var</span> nmd = <span class="hljs-keyword">new</span> netnrmd(<span class="hljs-string">'#txt'</span>, {
                <span class="hljs-attr">fullscreen</span>: <span class="hljs-literal">false</span>,      <span class="hljs-comment">//全屏</span>
    splitscreen: <span class="hljs-literal">true</span>,      <span class="hljs-comment">//分屏</span>
    height: <span class="hljs-number">300</span>,            <span class="hljs-comment">//高度</span>
    defer: <span class="hljs-number">300</span>,             <span class="hljs-comment">//延迟解析（毫秒）</span>
    prefixicon: <span class="hljs-string">'fa fa-'</span>,   <span class="hljs-comment">//矢量图标前缀，font-awesome</span>
    prefixkey: <span class="hljs-string">'Ctrl+'</span>,     <span class="hljs-comment">//按键支持</span>

                <span class="hljs-comment">//解析器，默认使用remarkable，需要引入remarkable</span>
                <span class="hljs-comment">//指定解析方式，返回解析后的HTML</span>
    render: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">md</span>) </span>{
                <span class="hljs-built_in">console</span>.log(md)
                <span class="hljs-keyword">return</span> md;
    },

                <span class="hljs-comment">//自定义工具栏</span>
    items: [
        {
                <span class="hljs-attr">title</span>: <span class="hljs-string">'表情'</span>,        <span class="hljs-comment">//title</span>
            icon: <span class="hljs-string">'smile-o'</span>,    <span class="hljs-comment">//icon</span>
            key: <span class="hljs-string">'E'</span>,           <span class="hljs-comment">//keyboard</span>
            cmd: <span class="hljs-string">'emoji'</span>        <span class="hljs-comment">//cmd (default icon) </span>
        },
        {
                <span class="hljs-attr">title</span>: <span class="hljs-string">'粗体'</span>,
                <span class="hljs-attr">icon</span>: <span class="hljs-string">'bold'</span>,
                <span class="hljs-attr">key</span>: <span class="hljs-string">'B'</span>
        }
    ],

                <span class="hljs-comment">//Before rendering the callback, add an expression Icon</span>
                <span class="hljs-comment">//渲染前回调，添加一个表情图标</span>
    viewbefore: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
                <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">this</span>);

                <span class="hljs-keyword">this</span>.items.splice(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, {
                <span class="hljs-attr">title</span>: <span class="hljs-string">'表情/emoji'</span>,
                <span class="hljs-attr">icon</span>: <span class="hljs-string">'smile-o'</span>,
                <span class="hljs-attr">key</span>: <span class="hljs-string">'E'</span>,
                <span class="hljs-attr">cmd</span>: <span class="hljs-string">'emoji'</span>
        });
    },

                <span class="hljs-comment">//Markdown editor changes when callback, custom parsing, add: emoji: parsing</span>
                <span class="hljs-comment">//编辑器变动时回调，自定义解析，添加 :emoji: 解析</span>
    input: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
                <span class="hljs-comment">//markdown to html</span>
                <span class="hljs-comment">//获取markdown解析为html</span>
                <span class="hljs-keyword">var</span> htm = <span class="hljs-keyword">this</span>.md.render(<span class="hljs-keyword">this</span>.getmd());

                <span class="hljs-comment">//:emoji:</span>
                <span class="hljs-comment">//emojiParse自己实现</span>
        htm = emojiParse(htm);

                <span class="hljs-comment">//赋值视图</span>
                <span class="hljs-comment">//set html</span>
                <span class="hljs-keyword">this</span>.sethtml(htm);

                <span class="hljs-comment">//Prevent internal rendering        </span>
                <span class="hljs-comment">//阻止内部渲染 </span>
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },

                <span class="hljs-comment">//Trigger command callback</span>
                <span class="hljs-comment">//触发命令回调</span>
    cmdcallback: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">cmd</span>) </span>{
                <span class="hljs-keyword">if</span> (cmd == <span class="hljs-string">"emoji"</span>) {
            $(<span class="hljs-string">'#myModalEmoji'</span>).modal();
        }
    }
});

<span class="hljs-comment">//default remarkable parse，默认解析方式</span>
<span class="hljs-built_in">console</span>.log(nmd.md.render(<span class="hljs-string">'# netnrmd!'</span>));
<span class="hljs-comment">// =&gt; &lt;h1&gt;netnrmd!&lt;/h1&gt;</span>
</code></pre>
                <h3>Function 方法</h3>
<pre><code class="language-js"><span class="hljs-keyword">var</span> nmd = <span class="hljs-keyword">new</span> netnrmd(<span class="hljs-string">'#txt'</span>);
<span class="hljs-built_in">console</span>.log(nmd);

<span class="hljs-comment">//focus 焦点选中</span>
nmd.focus();

<span class="hljs-comment">//set height 设置高度</span>
nmd.height(<span class="hljs-number">200</span>);

<span class="hljs-comment">//toggle Full Screen 切换全屏</span>
nmd.toggleFullScreen();
nmd.toggleFullScreen(<span class="hljs-literal">true</span>);
nmd.toggleFullScreen(<span class="hljs-literal">false</span>);

<span class="hljs-comment">//toggle Split Screen 切换分屏</span>
nmd.toggleSplitScreen();
nmd.toggleSplitScreen(<span class="hljs-literal">true</span>);
nmd.toggleSplitScreen(<span class="hljs-literal">false</span>);

<span class="hljs-comment">//toggle Preview 预览切换</span>
nmd.togglePreview();
nmd.togglePreview(<span class="hljs-literal">true</span>);
nmd.togglePreview(<span class="hljs-literal">false</span>);

<span class="hljs-comment">//set markdown 赋值</span>
nmd.setmd(md);

<span class="hljs-comment">//get markdown 取值</span>
nmd.getmd();

<span class="hljs-comment">//set html 赋值</span>
nmd.sethtml(html);

<span class="hljs-comment">//get html 取值</span>
nmd.gethtml();

<span class="hljs-comment">//clear markdown&amp;html 清空</span>
nmd.clear();

<span class="hljs-comment">//render 渲染</span>
nmd.render();

<span class="hljs-comment">//hide 隐藏</span>
nmd.hide();
<span class="hljs-comment">//hide 工具条</span>
nmd.hide(<span class="hljs-string">'toolbar'</span>);

<span class="hljs-comment">//show 显示</span>
nmd.show();
<span class="hljs-comment">//show 工具条</span>
nmd.show(<span class="hljs-string">'toolbar'</span>);


<span class="hljs-comment">//插入内容 重要，控制文本域的操作</span>
<span class="hljs-keyword">var</span> ops = {
                <span class="hljs-attr">cmd</span>: cmdname,               <span class="hljs-comment">//不为空即可</span>
    txt: nmd.obj.textarea[<span class="hljs-number">0</span>],   <span class="hljs-comment">//文本域对象</span>
    before: <span class="hljs-string">'**'</span>,               <span class="hljs-comment">//插入的内容前缀</span>
    defaultvalue: <span class="hljs-string">'加粗'</span>,     <span class="hljs-comment">//未选中内容时，默认内容，会选中</span>
    after: <span class="hljs-string">'**'</span>                 <span class="hljs-comment">//插入的内容后缀</span>
};
netnrmd.insertxt(ops);
<span class="hljs-comment">//有选中内容XXX，输出：**XXX**</span>
<span class="hljs-comment">//未选择内容，输出：**加粗**</span>
<span class="hljs-comment">//before 到 after 之间的内容会选中</span>
</code></pre>
                <h3>Textarea Extend 文本域拓展</h3>
<pre><code class="language-js"><span class="hljs-keyword">var</span> txtDom = $(<span class="hljs-string">'#txt'</span>)[<span class="hljs-number">0</span>];

<span class="hljs-comment">//获取光标位置</span>
netnrmd.getCursortPosition(txtDom);

<span class="hljs-comment">//设置光标位置</span>
netnrmd.getCursortPosition(txtDom, <span class="hljs-number">3</span>);

<span class="hljs-comment">//获取选中文字</span>
netnrmd.getSelectText(txtDom);

<span class="hljs-comment">//选中特定范围的文本</span>
netnrmd.setSelectText(txtDom, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>);

<span class="hljs-comment">//在光标后插入文本</span>
netnrmd.insertAfterText(txtDom, <span class="hljs-string">"text"</span>);
</code></pre>
                <h2>Authors 作者</h2>
                <ul>
                    <li><a href="https://www.netnr.com">netnr</a> <a href="https://github.com/netnr">github/netnr</a></li>
                    <li>Jon Schlinkert <a href="https://github.com/jonschlinkert">github/jonschlinkert</a></li>
                </ul>
            </div>
        </div>
    </div>

    <!--页脚-->
    <footer class="footer" id="footer">
        <p><img src="favicon.svg" class="logo" /></p>
        <p>© 2018 <a href="https://www.netnr.com">netnr</a></p>
    </footer>

    <script>
        var nmd = new netnrmd('#txt');
        console.log(nmd);
    </script>
</body>
</html>